<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
    <title>객체 이벤트 핸들러 </title>
    
    <script type="text/javascript">
      var djConfig = {isDebug: true
              ,debugAtAllCosts : false
              ,debugContainerId : "_dojoDebugConsole"
              };
    </script>

    <script type="text/javascript" src="../dojoAjax/dojo.js"></script>

    <script language="JavaScript" type="text/javascript">
      //require statements
      dojo.require( "dojo.widget.*" );
      dojo.require( "dojo.widget.FloatingPane" );
      
      //all dojo.require above this line
      dojo.hostenv.writeIncludes(); //makes debugging in Venkman possible      
    </script>
    <script type="text/javascript">
    window.onload = function() {
      var mylink = document.getElementById("mylink");

      //connect()는  mylink.onclick()이 호출되었을 때 안전하게 호출한다. 
      //obj.handler()는 같은 인수들과 함께 호출될 것이다.
      var obj = {
        getElement : function (e) {
            if (e.target) {
                return e.target;
            } else if (e.srcElement) {
                return e.srcElement;
            }
        },
        handler : function(e) {
            dojo.debug("obj.handler()...");

            var srcElement = this.getElement(e);
            if(srcElement) {
                if (srcElement.style.backgroundColor == "red") {
                  srcElement.style.backgroundColor = "blue";
                } else {
                  srcElement.style.backgroundColor = "red";
                }
            }
        },
        handler2 : function(e) {
            dojo.debug("obj.handler2()...");
            var srcElement = this.getElement(e);

            if(srcElement) {
              if (srcElement.innerHTML == "Click Me") {
                srcElement.innerHTML = "클릭하세요";
              } else {
                srcElement.innerHTML = "Click Me";
              }
              dojo.debug("srcElement.style.paddingLeft-> " + srcElement.style.paddingLeft); 
            }
        }
        
      };
      
      dojo.event.connect(mylink, "onclick", obj, "handler");
      dojo.event.connect(mylink, "onclick", obj, "handler2");
    };
    
    </script>
    <style>  </style>
  </head>
  <body>


    <!-- Content Here -->
    <a href="#" id="mylink" >Click Me</a>


    <!-- START Debug Console -->
    <div dojoType="FloatingPane"
      title="Debug Console"
      constrainToContainer="1"
      style="width: 100%; height: 100px; left: 0px; bottom: 20px;"
    >
      <div id="_dojoDebugConsole"> </div>
    </div>
    <!-- END Debug Console -->
  </body>
</html>