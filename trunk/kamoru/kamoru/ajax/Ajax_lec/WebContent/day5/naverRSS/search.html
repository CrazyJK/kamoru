<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html id="html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
  <title>네이버 API를 이용한 RSS </title>
  <style type="text/css">
    ul {
      margin: 0px 0px;
      border-style: solid;
      border-width: 1px;
      padding: 1px 1px;
    }
    li {
      list-style-type: none;
    }
    #kin {
      border-style: solid;
      border-width: 1px;
    }
    #blog {
      border-style: solid;
      border-width: 1px;
    }
    #webkr {
      border-style: solid;
      border-width: 1px;
    }
    #image {
      border-style: solid;
      border-width: 1px;
    }
  </style>
    <script type="text/javascript">
      var djConfig = {isDebug: true
              ,debugAtAllCosts : false
              ,debugContainerId : "_dojoDebugConsole"
              };
    </script>
    <script type="text/javascript" src="../dojoAjax/dojo.js"></script>
    <script type="text/javascript" src="js/naver.js"></script>

    <script language="JavaScript" type="text/javascript">
      //require statements
      dojo.require("dojo.widget.*" );
      dojo.require("dojo.widget.ComboBox" );
      dojo.require("dojo.widget.FloatingPane" );
      dojo.require("dojo.io.*");
      dojo.require("dojo.dom.*");
      dojo.require("dojo.xml.*");
      dojo.require("dojo.xml.XslTransform");
      
      //all dojo.require above this line
      dojo.hostenv.writeIncludes(); //makes debugging in Venkman possible      
    </script>

  <script type="text/javascript">
    
    var kinSearch = new NaverRSS("resultKin");
    
    function naverSearch() {
    
      var result = document.getElementById("result");
      var form = document.searchForm;
      result.style.display = "none";

      if (form.query.value == "") {
        alert("검색어를 입력하시오");
        form.query.focus();
        return;
      }

      var kin   = document.getElementById("kin"  );
      var blog  = document.getElementById("blog" );
      var webkr = document.getElementById("webkr");
      var image = document.getElementById("image");
      
      //조회 대상이 없으면 종료한다.
      if (form.kinChk.checked   == false &&
          form.blogChk.checked  == false &&
          form.imageChk.checked == false &&
          form.webkrChk.checked == false) {
        return;
      }

      //결과 창을 화면에 출력한다.
      result.style.display = "block";
      
      if (form.kinChk.checked == true) {
        kin.style.display   = "block" ;
        document.form1.query.value = document.searchForm.query.value;
        document.form1.target.value = "kin";
        kinSearch.search("form1");
      } else {
        kin.style.display   = "none";
      }

    }
 
    
    function init ()
    {
      var submit = dojo.byId("submit");
      
      dojo.event.connect(submit, "onclick", naverSearch);

    }
     
    dojo.addOnLoad(init); 
      

  </script>
</head>
<body>
<H3>네이버 API를 이용한 RSS</H3>
  <form name="form1"  method="get" action="proxy.jsp">
      <input type="hidden" name="url"     value="http://openapi.naver.com/search">
      <input type="hidden" name="key"     value="3e001fd1baa595a3f6adc415b17a8552">
      <input type="hidden" name="query"    >
      <input type="hidden" name="display" value="5">
      <input type="hidden" name="start"   value="1">
      <input type="hidden" name="target"  value="">
      <input type="hidden" name="sort"    value="sim">
  </form>
  <form name="searchForm">
    <table border="0">
      <tr>
        <td>
          <img src="images/naver_log.gif">
        </td>
        <td>
                  검색어   : 
          <input type="text" name="query" size="20" value="문근영">
          <input type="button" name="submit" id="submit" value="검색" />
        </td>
        <td>
          <input type="checkbox" value="kin" checked="checked" name="kinChk" onclick="naverSearch();">지식인 
        </td>
        <td>
          <input type="checkbox" value="blog" checked="checked" name="blogChk" onclick="naverSearch();">블로그 
        </td>
        <td>
          <input type="checkbox" value="webkr" checked="checked" name="webkrChk" onclick="naverSearch();">웹 검색
        </td>
        <td>
          <input type="checkbox" value="image" checked="checked" name="imageChk" onclick="naverSearch();">이미지
        </td>
      </tr>
    </table>
  </form>
  
  <div id="result" style="display:none">
    <!-- 지식인 검색 결과  -->
    <div id="kin" style="display:none">
          <h1>지식인 검색 결과 </h1>
      <div id="resultKin" ></div>
    </div>
    <!-- 블로그 검색 결과  -->
    <div id="blog" style="display:none">
      <h1>블로그 검색 결과</h1>
      <div id="resultBlog" ></div>
    </div>
    <!-- 웹 검색 결과  -->
    <div id="webkr" style="display:none">
      <h1>웹 검색 결과 </h1>
      <div id="resultWebkr" ></div>
    </div>
    <!-- 이미지 검색 결과  -->
    <div id="image" style="display:none">
      <h1>이미지 검색 결과 </h1>
      <div id="resultImage" ></div>
    </div>
  </div>
  <div align=center style="background-color:fuchsia; ">
 	네이버 OPEN API를 이용한 검색서비스 제공 
  </div>
  
    <!-- START Debug Console -->
    <div dojoType="FloatingPane"
      title="Debug Console"
      constrainToContainer="1"
      style="width: 100%; height: 100px; left: 0px; bottom: 20px;"
    >
      <div id="_dojoDebugConsole"> </div>
    </div>
    <!-- END Debug Console -->
  
</body>
</html>

