<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<title>함수를 이용한 스타일 구한는 예제</title>
  <script type="text/javascript">
 
 //"font-weight" -> fontWeight (style의 지정된값, 또는 IE에서만 사용)
 // ie 에서만 
 //"font-weight" -비IE에서 기본값을 얻을때
 
  function getProperty(str) {
    var prop = "";
    var dash = '-'.charAt(0);
    for (var i=0;i<str.length;i++) {
        //'-' 있는 문자의 위치를 찾아 다음 문자를 대문자로 변경한다.
        if (str.charAt(i) == dash) {
            prop += str.charAt(++i).toUpperCase();
        } else {
            prop += str.charAt(i);
        }
    }
    return prop;
  }

  function getStyle(obj, property) {
    var value ;
    var prop = getProperty(property);
    
    //CSS 스타일 속성에 대한 값이 존재하면 리턴한다.
    if (obj.style[prop]) {
      value = obj.style[prop];
    } else if (obj.currentStyle && obj.currentStyle[prop]) {
      //IE에 대한 CSS 스타일 속성에 대한 값이 존재하면 리턴한다.
      value = obj.currentStyle[prop];
    } else {
      var view = document.defaultView;
      if (view.getComputedStyle(obj, null).getPropertyValue(property)) {
        value = view.getComputedStyle(obj, null).getPropertyValue(property);
      }
    }
    return value;
  }
  
  function displayStyle() {
    var i = document.getElementById("id");
    var j = document.getElementById("j");
    
    var msg = "[i의 정보]\n"+
      "font-weight : " + getStyle(i, "font-weight") + "\n"+
      "font-size   : " + getStyle(i, "font-size") + "\n"+
      "position : " + getStyle(i, "position") + "\n"+
      "width    : " + getStyle(i, "width") + "\n"+
      "height    : " + getStyle(i, "height") + "\n"+
      "[j의 정보]\n"+
      "font-weight : " + getStyle(j, "font-weight") + "\n"+
      "font-size   : " + getStyle(j, "font-size") + "\n"+
      "position : " + getStyle(j, "position") + "\n"+
      "width    : " + getStyle(j, "width") + "\n" +
      "height    : " + getStyle(j, "height") + "\n" 
    alert(msg);
  }
  </script>
  <style type="text/css">
  #id {
    background: green;
  }
  #j {
    background: blue;
    top: 150px; 
    left: 150px;
    height: 100px;
  }
  </style>
</head>
<body>
  <h3>함수를 이용한 스타일 구하는 예 </h3>
  <hr>
  <p id="id" style="font-size: 12;font-weight: 700;">스타일 정보를 구하는 예제입니다.</p>
  <div id="j" style="position: absolute;width: 100px;"></div>
  <input type="button" onclick="displayStyle()" value="스타일정보" />
</body>
</html>
